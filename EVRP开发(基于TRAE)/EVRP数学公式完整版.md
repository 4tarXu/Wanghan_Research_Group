# EVRPæ•°å­¦å…¬å¼å®Œæ•´ç‰ˆ

## ğŸ¯ æ¦‚è¿°
æœ¬æ–‡æ¡£åŒ…å«EVRPï¼ˆç”µåŠ¨è½¦è¾†è·¯å¾„è§„åˆ’é—®é¢˜ï¼‰çš„å®Œæ•´æ•°å­¦å…¬å¼ä½“ç³»ï¼Œé€‚ç”¨äºMathpix Markdownæ’ä»¶ï¼Œå¯ç›´æ¥ç”¨äºPPTå’Œå­¦æœ¯è®ºæ–‡ã€‚

---

## ğŸ“Š ç¬¦å·å®šä¹‰

### é›†åˆå’Œç´¢å¼•
- $V = \{0, 1, 2, ..., n\}$ï¼šæ‰€æœ‰èŠ‚ç‚¹é›†åˆï¼Œ0è¡¨ç¤ºé…é€ä¸­å¿ƒ
- $C = \{1, 2, ..., n\}$ï¼šå®¢æˆ·èŠ‚ç‚¹é›†åˆ
- $F$ï¼šå……ç”µç«™èŠ‚ç‚¹é›†åˆ
- $K$ï¼šè½¦è¾†é›†åˆ
- $(i,j)$ï¼šä»èŠ‚ç‚¹$i$åˆ°èŠ‚ç‚¹$j$çš„è¾¹

### å‚æ•°
| ç¬¦å· | å«ä¹‰ | å•ä½ |
|------|------|------|
| $Q$ | è½¦è¾†æœ€å¤§è½½é‡å®¹é‡ | kg |
| $B$ | è½¦è¾†ç”µæ± æœ€å¤§å®¹é‡ | kWh |
| $d_{ij}$ | èŠ‚ç‚¹$i$åˆ°èŠ‚ç‚¹$j$çš„è·ç¦» | km |
| $q_i$ | å®¢æˆ·$i$çš„éœ€æ±‚é‡ | kg |
| $e_{ij}$ | ä»èŠ‚ç‚¹$i$åˆ°èŠ‚ç‚¹$j$çš„èƒ½è€— | kWh |
| $t_{ij}$ | ä»èŠ‚ç‚¹$i$åˆ°èŠ‚ç‚¹$j$çš„è¡Œé©¶æ—¶é—´ | h |
| $s_i$ | åœ¨èŠ‚ç‚¹$i$çš„æœåŠ¡æ—¶é—´ | h |
| $c_{ij}$ | ä»èŠ‚ç‚¹$i$åˆ°èŠ‚ç‚¹$j$çš„è¡Œé©¶æˆæœ¬ | å…ƒ |
| $\gamma$ | å•ä½å……ç”µæˆæœ¬ | å…ƒ/kWh |
| $\beta$ | å•ä½æ—¶é—´æˆæœ¬ | å…ƒ/h |

### å†³ç­–å˜é‡
| ç¬¦å· | ç±»å‹ | å«ä¹‰ |
|------|------|------|
| $x_{ijk}$ | äºŒè¿›åˆ¶ | è½¦è¾†$k$æ˜¯å¦ä»èŠ‚ç‚¹$i$ç›´æ¥åˆ°èŠ‚ç‚¹$j$ |
| $y_{ik}$ | è¿ç»­ | è½¦è¾†$k$åˆ°è¾¾èŠ‚ç‚¹$i$æ—¶çš„å‰©ä½™è½½é‡ |
| $b_{ik}$ | è¿ç»­ | è½¦è¾†$k$åˆ°è¾¾èŠ‚ç‚¹$i$æ—¶çš„å‰©ä½™ç”µé‡ |
| $u_{ik}$ | è¿ç»­ | è½¦è¾†$k$åœ¨èŠ‚ç‚¹$i$çš„å……ç”µé‡ |
| $t_{ik}$ | è¿ç»­ | è½¦è¾†$k$åˆ°è¾¾èŠ‚ç‚¹$i$çš„æ—¶é—´ |

---

## ğŸ¯ ç›®æ ‡å‡½æ•°

### ä¸»ç›®æ ‡å‡½æ•°
æœ€å°åŒ–æ€»æˆæœ¬ï¼š
$\min Z = \sum_{k \in K} \sum_{i \in V} \sum_{j \in V} c_{ij} x_{ijk} + \sum_{k \in K} \sum_{i \in F} \gamma u_{ik} + \sum_{k \in K} \sum_{i \in V} \beta t_{ik}$

### åˆ†è§£ç›®æ ‡
1. **è·ç¦»æˆæœ¬**ï¼š
$C_{dist} = \sum_{k \in K} \sum_{i \in V} \sum_{j \in V} d_{ij} \cdot c_{unit} \cdot x_{ijk}$

2. **å……ç”µæˆæœ¬**ï¼š
$C_{charge} = \sum_{k \in K} \sum_{i \in F} \gamma \cdot u_{ik}$

3. **æ—¶é—´æˆæœ¬**ï¼š
$C_{time} = \sum_{k \in K} \sum_{i \in V} \sum_{j \in V} t_{ij} \cdot c_{time} \cdot x_{ijk}$

---

## âš–ï¸ çº¦æŸæ¡ä»¶

### 1. å®¢æˆ·è®¿é—®çº¦æŸ
æ¯ä¸ªå®¢æˆ·è¢«è®¿é—®ä¸€æ¬¡ï¼š
$\sum_{k \in K} \sum_{i \in V} x_{ijk} = 1, \quad \forall j \in C$

### 2. æµé‡å®ˆæ’çº¦æŸ
è½¦è¾†å¹³è¡¡ï¼š
$\sum_{i \in V} x_{ijk} - \sum_{j \in V} x_{jik} = 0, \quad \forall k \in K, \forall i \in V$

### 3. è½½é‡å®¹é‡çº¦æŸ
è½¦è¾†è½½é‡é™åˆ¶ï¼š
$q_i \leq y_{ik} \leq Q, \quad \forall k \in K, \forall i \in V$
$y_{jk} \leq y_{ik} - q_i x_{ijk} + Q(1 - x_{ijk}), \quad \forall k \in K, \forall i,j \in V$

### 4. ç”µæ± å®¹é‡çº¦æŸ
ç”µé‡å§‹ç»ˆâ‰¥0ï¼š
$0 \leq b_{ik} \leq B, \quad \forall k \in K, \forall i \in V$
$b_{jk} \leq b_{ik} - e_{ij} x_{ijk} + B(1 - x_{ijk}), \quad \forall k \in K, \forall i,j \in V$

### 5. å……ç”µç«™çº¦æŸ
å……ç”µç«™å¯å¤šæ¬¡è®¿é—®ï¼š
$b_{ik} + u_{ik} \leq B, \quad \forall k \in K, \forall i \in F$

### 6. è·¯å¾„è¿ç»­æ€§çº¦æŸ
ä»é…é€ä¸­å¿ƒå‡ºå‘å¹¶è¿”å›ï¼š
$\sum_{j \in V \setminus \{0\}} x_{0jk} = 1, \quad \forall k \in K$
$\sum_{i \in V \setminus \{0\}} x_{i0k} = 1, \quad \forall k \in K$

### 7. æ—¶é—´çª—çº¦æŸï¼ˆå¯é€‰ï¼‰
$t_{jk} \geq t_{ik} + s_i + t_{ij} - M(1 - x_{ijk}), \quad \forall k \in K, \forall i,j \in V$
$a_i \leq t_{ik} \leq b_i, \quad \forall k \in K, \forall i \in C$
å…¶ä¸­ $[a_i, b_i]$ æ˜¯å®¢æˆ· $i$ çš„æ—¶é—´çª—ï¼Œ$M$ æ˜¯è¶³å¤Ÿå¤§çš„å¸¸æ•°

---

## ğŸ§¬ é—ä¼ ç®—æ³•å…¬å¼

### é€‚åº”åº¦å‡½æ•°
å¯¹äºä¸ªä½“$s$ï¼š
$f(s) = \frac{1}{Z(s) + \alpha \cdot P(s)}$

### é€‰æ‹©æ“ä½œ
**é”¦æ ‡èµ›é€‰æ‹©**ï¼š
$P_{select}(i) = \frac{f(i)}{\sum_{j=1}^{t}f(j)}$

**æ’åºé€‰æ‹©**ï¼š
$P_{select}(i) = \frac{2-s+2(s-1)\frac{i-1}{N-1}}{N}$

### å˜å¼‚æ“ä½œ
**äº¤æ¢å˜å¼‚**ï¼š
$\text{Swap}(\pi, i, j): \pi[i] \leftrightarrow \pi[j]$

**æ’å…¥å˜å¼‚**ï¼š
$\text{Insert}(\pi, i, j): \text{move } \pi[i] \text{ to position } j$

**åè½¬å˜å¼‚**ï¼š
$\text{Reverse}(\pi, i, j): \text{reverse subsequence } [i, j]$

---

## ğŸ“ˆ æ€§èƒ½è¯„ä¼°æŒ‡æ ‡

### æ”¶æ•›æ€§æŒ‡æ ‡
1. **æ”¶æ•›ä»£æ•°**ï¼š
$G_{conv} = \min\{g \mid |f_{best}(g) - f_{best}(g-\Delta)| < \epsilon \cdot f_{best}(g)\}$

2. **æ”¹è¿›ç‡**ï¼š
$\text{Improvement} = \frac{f_{initial} - f_{final}}{f_{initial}} \times 100\%$

3. **æ”¶æ•›é€Ÿç‡**ï¼š
$\lambda = -\frac{1}{G} \ln\left(\frac{f_G - f_{\infty}}{f_0 - f_{\infty}}\right)$

### ç®—æ³•è´¨é‡æŒ‡æ ‡
1. **æœ€ä¼˜æ€§å·®è·**ï¼š
$\text{Gap} = \frac{f_{alg} - f_{opt}}{f_{opt}} \times 100\%$

2. **é²æ£’æ€§**ï¼š
$\text{Robustness} = \frac{\sigma}{\mu} \times 100\%$

3. **è®¡ç®—æ•ˆç‡**ï¼š
$\text{Efficiency} = \frac{\text{CPUæ—¶é—´}}{\text{é—®é¢˜è§„æ¨¡}} \times 100\%$

### ç»Ÿè®¡æ£€éªŒ
**tæ£€éªŒ**ï¼š
$t = \frac{\bar{f}_{GA} - \bar{f}_{baseline}}{\sqrt{\frac{s_{GA}^2}{n_{GA}} + \frac{s_{baseline}^2}{n_{baseline}}}}$

---

## ğŸ” å……ç”µç­–ç•¥å…¬å¼

### å……ç”µåˆ¤æ–­æ¡ä»¶
1. **ç”µé‡å®‰å…¨çº¦æŸ**ï¼š
$b_{current} < \alpha \cdot B$

2. **å¯è¾¾æ€§çº¦æŸ**ï¼š
$b_{current} < e_{i,j} + \beta \cdot B$

3. **å……ç”µé‡å†³ç­–**ï¼š
**å®Œå…¨å……ç”µ**ï¼š
$\nu_{charge} = B - b_{current}$

**éƒ¨åˆ†å……ç”µ**ï¼š
$\nu_{min} = \max\{e_{total} - b_{current}, 0\}$

**æ™ºèƒ½å……ç”µ**ï¼š
$\nu^* = \arg\min_{\nu \in [0, B - b_{current}]} C_{total}(\nu)$

### å……ç”µæ—¶é—´
$t_{charge} = \frac{\nu}{r_{charge}}$

### å……ç”µç«™é€‰æ‹©
$f^* = \arg\min_{f \in F} \left\{ d_{current,f} + \lambda \cdot t_{wait,f} + \mu \cdot C_{charge,f} \right\}$

---

## ğŸ“Š å¤æ‚åº¦åˆ†æ

### ğŸ“Š å¤æ‚åº¦åˆ†æ

### æ—¶é—´å¤æ‚åº¦
- **è·¯å¾„è¯„ä¼°**ï¼š$O(n^2)$
- **é€‰æ‹©æ“ä½œ**ï¼š$O(N \log N)$
- **äº¤å‰æ“ä½œ**ï¼š$O(n)$
- **å˜å¼‚æ“ä½œ**ï¼š$O(n)$
- **æ•´ä½“ç®—æ³•**ï¼š$O(G \cdot P \cdot n^2)$

### ç©ºé—´å¤æ‚åº¦
- **ç§ç¾¤å­˜å‚¨**ï¼š$O(P \cdot n)$
- **è¾…åŠ©æ•°ç»„**ï¼š$O(n^2)$
- **æ€»ç©ºé—´**ï¼š$O(P \cdot n + n^2)$

---

## ğŸ¯ å®é™…åº”ç”¨å…¬å¼

### æˆæœ¬è®¡ç®—å®ä¾‹
**è·ç¦»æˆæœ¬**ï¼š
$C_{dist} = \sum_{i=1}^{n-1} d_{i,i+1} \cdot c_{fuel}$

**å……ç”µæˆæœ¬**ï¼š
$C_{charge} = \sum_{i \in \text{charging stations}} \Delta E_i \cdot c_{electricity}$

**æ—¶é—´æˆæœ¬**ï¼š
$C_{time} = \sum_{i=1}^{n} t_i \cdot c_{driver}$

### ç¯ä¿æ•ˆç›Š
**ç¢³æ’æ”¾å‡å°‘**ï¼š
$\Delta CO_2 = \sum_{i=1}^{n} d_i \cdot (e_{gasoline} - e_{electric}) \cdot \text{conversion factor}$

---

## ğŸ“‹ å‚æ•°æ¨èå€¼

| å‚æ•° | æ¨èå€¼ | è¯´æ˜ |
|------|--------|------|
| ç§ç¾¤å¤§å° | $P = 100$ | å¹³è¡¡è®¡ç®—æ•ˆç‡å’Œè§£è´¨é‡ |
| æœ€å¤§ä»£æ•° | $G = 500$ | ç¡®ä¿å……åˆ†æ”¶æ•› |
| äº¤å‰ç‡ | $p_c = 0.8$ | ä¿æŒç§ç¾¤å¤šæ ·æ€§ |
| å˜å¼‚ç‡ | $p_m = 0.1$ | é¿å…æ—©ç†Ÿæ”¶æ•› |
| ç²¾è‹±æ¯”ä¾‹ | $\epsilon = 0.05$ | ä¿ç•™æœ€ä¼˜è§£ |
| é”¦æ ‡èµ›å¤§å° | $t = 3$ | ä¸­ç­‰é€‰æ‹©å‹åŠ› |
| æƒ©ç½šç³»æ•° | $\alpha = 10^6$ | å¼ºçº¦æŸå¤„ç† |

---

## ğŸ”— å…¬å¼ä½¿ç”¨è¯´æ˜

### Mathpixå…¼å®¹æ€§
æ‰€æœ‰å…¬å¼ä½¿ç”¨æ ‡å‡†LaTeXè¯­æ³•ï¼Œå…¼å®¹Mathpix Markdownï¼š
- è¡Œå†…å…¬å¼ï¼š`$...$`
- è¡Œé—´å…¬å¼ï¼š`$$...$$`
- å¯¹é½ç¯å¢ƒï¼š`\begin{align}...\end{align}`

### å¤åˆ¶ç²˜è´´
å¯ç›´æ¥å¤åˆ¶åˆ°æ”¯æŒLaTeXçš„ç¼–è¾‘å™¨ä¸­ä½¿ç”¨ï¼ŒåŒ…æ‹¬ï¼š
- Typora
- VSCode + Markdownæ’ä»¶
- Jupyter Notebook
- Overleaf

---

*æ–‡æ¡£ç‰ˆæœ¬ï¼šv2.0*  
*æ›´æ–°æ—¶é—´ï¼š2024å¹´*  
*å…¼å®¹ï¼šMathpix Markdown*